{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/FieldEdit.vue?e130","webpack:///./src/components/Generate.vue?d567","webpack:///./src/App.vue","webpack:///./src/components/FieldEdit.vue","webpack:///./src/components/FieldInput.vue","webpack:///./src/components/FieldInput.vue?b431","webpack:///./src/utils/date.js","webpack:///./src/components/FieldEdit.vue?89b2","webpack:///./src/components/Generate.vue","webpack:///./src/utils/pdf.js","webpack:///./src/utils/allrequired.js","webpack:///./src/components/Generate.vue?3b6d","webpack:///./src/App.vue?6697","webpack:///./src/main.js","webpack:///./src/App.vue?f88b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","for","id","type","accept","style","loadConfig","view","saveConfig","onGenerate","ref","toEdit","data-feather","councilMember","field-name","field-display-name","field-type","councilPost","field-options","councilSession","disabled","meeting","meetingDate","sponsorship","quota","updateQuota","companyName","companyContact","openApplicationDate","deadline","resultAnnouncementDate","applicants","applicant","department","generate","fieldName","fieldDisplayName","fieldType","modelValue","$emit","$event","target","$attrs","fieldOptions","option","inheritAttrs","emits","props","__exports__","date","Date","y","getFullYear","getMonth","getDate","session","today","toDMY","ymd","regex","match","computed","_applicants","this","forEach","a","methods","details","delta","newQuota","alert","obj","JSON","parse","replace","localStorage","$watch","stringify","watch","components","FieldInput","errors","param","docs","item","download","pdf","title","width","height","src","uri","selectText","emails","application","pdfAuthor","drawTextOptions","x","wrapWidth","closing","lineHeight","nomination","delegates","offer","sponsoringCompany","maxWidth","memo","from","to","body","annex","drawTexts","page","items","font","opts","fontSize","newText","undefined","currentParagraph","paragraphs","text","split","word","widthOfTextAtSize","concat","join","map","paragraph","shrinkWidth","console","log","drawText","size","loadPDF","responseType","then","response","async","fillTemplate","template","doc","load","embedFont","Helvetica","getPages","setFontSize","setLineHeight","setAuthor","setCreator","setTitle","showInWindowTitleBar","applicantText","trimRight","len","baseItems","titles","uris","save","doc1","page1","title1","Promise","all","res","resolve","toBase64","bytes","chars","base64","substring","pdfToUri","input","missing","params","Array","keys","isTemplateReady","templates","objectURL","mimetype","e","node","document","createTextRange","range","moveToElementText","select","getSelection","selection","createRange","selectNodeContents","removeAllRanges","addRange","warn","vm","genEmail","names","buffer","catch","error","message","reader","FileReader","onerror","err","onload","$refs","fieldsEdit","readAsText","files","getItem","output","fields","genpdf","scrollTo","FieldEdit","Generate","render","App","mount"],"mappings":"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","file":"js/app.6475f128.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/genform/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./FieldEdit.vue?vue&type=style&index=0&id=5627c3ee&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Generate.vue?vue&type=style&index=0&id=eb4aaff2&lang=scss&scoped=true\"","<template>\n  <header>\n    <div>\n      <h3>üìù genform</h3>\n      <button class=\"button float-right\" v-show=\"view === 'edit'\">\n        <label for=\"load-input\">load input</label>\n        <input id=\"load-input\" type=\"file\" accept=\"application/json\" style=\"display: none\" @change=\"loadConfig\">\n      </button>\n      <button v-show=\"view === 'generate'\"\n              @click=\"saveConfig\"\n              class=\"float-right\">save input</button>\n   </div>\n  </header>\n  <main class=\"container\">\n    <field-edit v-show=\"view === 'edit'\" @generate=\"onGenerate\" ref=\"fieldsEdit\"></field-edit>\n    <generate v-show=\"view === 'generate'\" @toEdit=\"toEdit\" ref=\"generate\"></generate>\n  </main>\n</template>\n\n<script>\nimport 'normalize.css';\nimport 'milligram';\nimport downloadjs from 'downloadjs';\nimport FieldEdit from './components/FieldEdit.vue';\nimport Generate from './components/Generate.vue';\n\nexport default {\n  name: 'App',\n  data () {\n    return {\n      details: {},\n      view: 'edit',\n      uris: []\n    };\n  },\n  methods: {\n    loadConfig (e) {\n      const vm = this;\n      const reader = new FileReader();\n      reader.onerror = function onError (err) {\n        console.error(err);\n        alert('Failed to load config file!');\n      };\n      reader.onload = function onLoad () {\n        try {\n          const obj = JSON.parse(reader.result);\n          vm.$refs.fieldsEdit.loadConfig(obj);\n        } catch (err) {\n          console.error(err);\n          alert('Error parsing config file!');\n        }\n      };\n      reader.readAsText(e.target.files[0]);\n    },\n    saveConfig () {\n      const obj = {};\n      const len = localStorage.length;\n      for (let i = 0; i < len; i++) {\n        const key = localStorage.key(i);\n        const item = localStorage.getItem(key);\n        obj[key] = item;\n      }\n      if (!obj.meeting) {\n        alert('Please go to edit and input name of meeting first!');\n        return false;\n      }\n      const output = JSON.stringify(obj);\n      downloadjs(output, `${obj.meeting}.json`, 'application/json');\n    },\n    toEdit () {\n      this.view = 'edit';\n    },\n    onGenerate (fields) {\n      this.$refs.generate.genpdf(fields);\n      this.view = 'generate';\n      window.scrollTo(0, 0);\n    }\n  },\n  components: {\n    FieldEdit,\n    Generate\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;700&display=swap');\n\n$content-width: 76rem;\n$min-width: 34rem;\n\nheader {\n  position: fixed;\n  background: #fff;\n  border-bottom: 2px solid #c4c4c4;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 99999;\n  overflow-x: scroll;\n\n  > div {\n    padding: 1rem 2rem;\n    max-width: $content-width;\n    min-width: $min-width;\n    margin: 0 auto;\n\n    > h3 {\n      display: inline-block;\n      margin-bottom: 0;\n    }\n  }\n}\n\n.button > label {\n  display: unset;\n  font-size: unset;\n  font-weight: unset;\n  margin-bottom: unset;\n  cursor: pointer;\n}\n\nmain.container {\n  max-width: $content-width;\n  min-width: $min-width;\n  margin-top: 7.5rem;\n  padding-bottom: 2rem;\n}\n\nhr {\n  border-top-width: 0.3rem;\n  border-color: #eee;\n}\n</style>\n","<template>\n  <section>\n    <h4 class=\"heading\">Who is creating the form?</h4>\n    <field-input\n      v-model.trim=\"councilMember\" field-name=\"council-member\"\n      field-display-name=\"Council member\" field-type=\"text\"></field-input>\n    <field-input\n      v-model.trim=\"councilPost\" field-name=\"council-post\"\n      field-display-name=\"Post\" field-type=\"select\"\n      :field-options=\"['Council member', 'Secretary', 'Treasurer', 'President']\"></field-input>\n    <field-input\n      v-model.trim=\"councilSession\" field-name=\"council-session\"\n      field-display-name=\"Session\" disabled></field-input>\n\n    <h4 class=\"heading\">Meeting details</h4>\n    <field-input\n      v-model.trim=\"meeting\" field-name=\"meeting\"\n      field-display-name=\"Meeting\" field-type=\"text\"></field-input>\n    <field-input\n      v-model.trim=\"meetingDate\" field-name=\"meeting-date\"\n      field-display-name=\"Date\" field-type=\"text\"></field-input>\n    <field-input\n      v-model.trim=\"sponsorship\" field-name=\"sponsorship\"\n      field-display-name=\"Sponsorship\" field-type=\"text\"></field-input>\n    <div class=\"quota\">\n      <strong>Quota</strong>\n      <button\n        type=\"button\"\n        class=\"button button-clear\"\n        :class=\"{ disabled: quota == 1 }\"\n        @click=\"updateQuota(-1)\">\n        <i data-feather=\"minus-circle\"></i>\n      </button>\n      <span>{{ quota }}</span>\n      <button\n        type=\"button\"\n        class=\"button button-clear\"\n        @click=\"updateQuota(1)\">\n        <i data-feather=\"plus-circle\"></i>\n      </button>\n    </div>\n\n    <h4 class=\"heading\">Sponsoring company</h4>\n    <field-input\n      v-model.trim=\"companyName\" field-name=\"company-name\"\n      field-display-name=\"Company name\" field-type=\"text\"></field-input>\n    <field-input\n      v-model.trim=\"companyContact\" field-name=\"company-contact\"\n      field-display-name=\"Company contact person\" field-type=\"text\"></field-input>\n\n    <h4 class=\"heading\">Important dates</h4>\n    <field-input\n      v-model=\"openApplicationDate\" field-name=\"open-application-date\"\n      field-display-name=\"Open application date\" field-type=\"date\"></field-input>\n    <field-input\n      v-model=\"deadline\" field-name=\"deadline\"\n      field-display-name=\"Deadline\" field-type=\"date\"></field-input>\n    <field-input\n      v-model=\"resultAnnouncementDate\" field-name=\"result-announcement-date\"\n      field-display-name=\"Result announcement date\" field-type=\"date\"></field-input>\n\n    <h4 class=\"heading\">Applicants</h4>\n    <template v-for=\"(applicant, i) in applicants\" :key=\"i\">\n      <h5 class=\"applicant-heading\">Applicant {{ i + 1 }}</h5>\n      <field-input\n        v-model.trim=\"applicants[i].name\" :field-name=\"`applicant-name-${i}`\"\n        field-display-name=\"Name\" field-type=\"text\"></field-input>\n      <field-input\n        v-model.trim=\"applicants[i].department\" :field-name=\"`department-${i}`\"\n        field-display-name=\"Department\" field-type=\"select\"\n        :field-options=\"['Medicine and Geriatrics', 'Department of Surgery']\"></field-input>\n      <hr>\n    </template>\n\n    <button @click=\"generate\">Generate</button>\n  </section>\n</template>\n\n<script>\nimport feather from 'feather-icons';\nimport FieldInput from './FieldInput.vue';\nimport { session, today, toDMY } from '../utils/date';\n\nexport default {\n  name: 'FieldEdit',\n  data () {\n    return {\n      meeting: '',\n      meetingDate: '',\n      sponsorship: '',\n      quota: 1,\n      councilMember: '',\n      councilPost: 'Council member',\n      councilSession: session,\n      openApplicationDate: today,\n      deadline: '',\n      resultAnnouncementDate: '',\n      companyName: '',\n      companyContact: '',\n      applicants: [{ department: 'Medicine and Geriatrics' }]\n    };\n  },\n  computed: {\n    details () {\n      const _applicants = [];\n      this.applicants.forEach(a => {\n        // do not add empty applicants\n        if (a.name) {\n          _applicants.push({ name: a.name, department: a.department });\n        }\n      });\n\n      return {\n        meeting: this.meeting,\n        meetingDate: this.meetingDate,\n        sponsorship: this.sponsorship,\n        quota: this.quota,\n        councilMember: this.councilMember,\n        councilPost: this.councilPost,\n        councilSession: this.councilSession,\n        openApplicationDate: toDMY(this.openApplicationDate),\n        deadline: toDMY(this.deadline),\n        resultAnnouncementDate: toDMY(this.resultAnnouncementDate),\n        companyName: this.companyName,\n        companyContact: this.companyContact,\n        applicants: _applicants\n      };\n    }\n  },\n  methods: {\n    generate () {\n      this.$emit('generate', this.details);\n    },\n    updateQuota (delta) {\n      if (delta >= 1) {\n        for (let i = 1; i <= delta; i++) {\n          this.applicants.push({ department: 'Medicine and Geriatrics' });\n        }\n      } else if (delta <= -1) {\n        const newQuota = this.quota + delta;\n        const { applicants } = this;\n\n        if (newQuota === 0) {\n          return false;\n        }\n\n        for (let i = applicants.length - 1; i >= newQuota; i--) {\n          if (applicants[i].name) {\n            alert('Existing data!\\nClear out the fields first.');\n            return false;\n          }\n        }\n\n        this.applicants.splice(newQuota, -delta);\n      }\n\n      this.quota = this.applicants.length;\n      return true;\n    },\n    loadConfig (obj) {\n      if (obj.meeting) {\n        this.meeting = obj.meeting;\n      }\n\n      if (obj.meetingDate) {\n        this.meetingDate = obj.meetingDate;\n      }\n\n      if (obj.sponsorship) {\n        this.sponsorship = obj.sponsorship;\n      }\n\n      if (obj.councilMember) {\n        this.councilMember = obj.councilMember;\n      }\n\n      if (obj.councilPost) {\n        this.councilPost = obj.councilPost;\n      }\n\n      if (obj.deadline) {\n        this.deadline = obj.deadline;\n      }\n\n      if (obj.openApplicationDate) {\n        this.openApplicationDate = obj.openApplicationDate;\n      }\n\n      if (obj.resultAnnouncementDate) {\n        this.resultAnnouncementDate = obj.resultAnnouncementDate;\n      }\n\n      if (obj.companyName) {\n        this.companyName = obj.companyName;\n      }\n\n      if (obj.companyContact) {\n        this.companyContact = obj.companyContact;\n      }\n\n      if (obj.quota) {\n        this.quota = +obj.quota;\n      }\n\n      if (obj.applicants) {\n        const applicants = JSON.parse(obj.applicants);\n        while (applicants.length < this.quota) {\n          applicants.push({ department: 'Medicine and Geriatrics' });\n        }\n        this.applicants = applicants;\n      }\n    }\n  },\n  mounted () {\n    feather.replace();\n\n    this.loadConfig(localStorage);\n\n    this.$watch('details.applicants', n => {\n      localStorage.applicants = JSON.stringify(n);\n    });\n  },\n  watch: {\n    meeting (n) {\n      localStorage.meeting = n;\n    },\n    meetingDate (n) {\n      localStorage.meetingDate = n;\n    },\n    sponsorship (n) {\n      localStorage.sponsorship = n;\n    },\n    quota (n) {\n      localStorage.quota = n;\n    },\n    councilMember (n) {\n      localStorage.councilMember = n;\n    },\n    councilPost (n) {\n      localStorage.councilPost = n;\n    },\n    openApplicationDate (n) {\n      localStorage.openApplicationDate = n;\n    },\n    deadline (n) {\n      localStorage.deadline = n;\n    },\n    resultAnnouncementDate (n) {\n      localStorage.resultAnnouncementDate = n;\n    },\n    companyName (n) {\n      localStorage.companyName = n;\n    },\n    companyContact (n) {\n      localStorage.companyContact = n;\n    }\n  },\n  components: {\n    FieldInput\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.heading {\n  margin-top: 2rem;\n}\n\n.quota {\n  margin-top: 1rem;\n\n  > * {\n    vertical-align: top;\n  }\n\n  .button {\n    margin-bottom: 0;\n  }\n}\n\ninput[disabled],\n.disabled {\n  cursor: not-allowed;\n}\n\n.disabled {\n  opacity: 0.5;\n}\n\n.applicant-heading {\n  margin-bottom: 1rem;\n}\n</style>\n","<template>\n  <label :for=\"fieldName\">{{ fieldDisplayName }}</label>\n  <select v-if=\"fieldType === 'select'\"\n    :id=\"fieldName\"\n    :value=\"modelValue\"\n    @input=\"$emit('update:modelValue', $event.target.value)\"\n    v-bind=\"$attrs\">\n    <option v-for=\"(option, i) in fieldOptions\" :key=\"i\">{{ option }}</option>\n  </select>\n  <input v-else\n    :type=\"fieldType\"\n    :id=\"fieldName\"\n    :value=\"modelValue\"\n    @input=\"$emit('update:modelValue', $event.target.value)\"\n    v-bind=\"$attrs\">\n</template>\n\n<script>\nexport default {\n  name: 'FieldInput',\n  inheritAttrs: false,\n  emits: ['update:modelValue'],\n  props: ['modelValue', 'fieldType', 'fieldName', 'fieldDisplayName', 'fieldOptions'],\n  data () {\n    return {\n    };\n  }\n};\n</script>\n\n<style lang=\"scss\">\n</style>\n","import { render } from \"./FieldInput.vue?vue&type=template&id=79fcf759\"\nimport script from \"./FieldInput.vue?vue&type=script&lang=js\"\nexport * from \"./FieldInput.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/mars/dev/genform/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","const date = new Date();\nconst y = date.getFullYear();\nconst m = date.getMonth();\nconst d = date.getDate();\n\nconst session = m >= 3 ? `${y}‚Äì${y+1}` : `${y-1}‚Äì${y}`;\nconst today = `${y}-${m+1 > 9 ? m+1 : '0'+(m+1)}-${d > 9 ? d : '0'+d}`;\n\n/**\n * format date string to DD/MM/YYYY\n * @param ymd {string} date string from <input> in YYYY-MM-DD format\n */\nfunction toDMY (ymd) {\n  const regex = /(\\d{4})-(\\d{2})-(\\d{2})/;\n  const match = ymd.match(regex);\n  if (match) {\n    return `${match[3]}/${match[2]}/${match[1]}`;\n  }\n  return '';\n}\n\nexport { session, today, toDMY };\n","import { render } from \"./FieldEdit.vue?vue&type=template&id=5627c3ee\"\nimport script from \"./FieldEdit.vue?vue&type=script&lang=js\"\nexport * from \"./FieldEdit.vue?vue&type=script&lang=js\"\n\nimport \"./FieldEdit.vue?vue&type=style&index=0&id=5627c3ee&lang=scss\"\n\nimport exportComponent from \"/Users/mars/dev/genform/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section>\n    <a class=\"button button-outline\" @click=\"$emit('toEdit')\">edit again</a>\n    <section class=\"doc-section\"\n      v-for=\"(name, i) in ['application', 'nomination', 'memo', 'offer', 'annex']\"\n      :key=\"i\">\n      <h4 class=\"heading\">{{ name }}</h4>\n      <p v-if=\"errors[name]\">\n      Missing fields: <code v-for=\"param in errors[name]\" :key=\"param\">{{param}}</code>\n      </p>\n      <template v-else-if=\"(name === 'application' || name === 'nomination' || name === 'memo') && docs[name]\">\n        <a class=\"button\"\n           @click=\"download(docs[name].pdf, docs[name].title + '.pdf', 'application/pdf')\"\n           >download</a>\n        <iframe width=\"100%\" height=\"300px\" :src=\"docs[name] && docs[name].uri\"></iframe>\n        <blockquote @click=\"selectText\" v-if=\"name === 'application'\">{{emails.application}}</blockquote>\n      </template>\n      <template v-else-if=\"(name === 'offer' || name === 'annex') && docs[name]\">\n        <div v-for=\"(item, key) in docs[name]\" :key=\"key\">\n          <strong>Dr. {{ item.applicant }} </strong>\n          <a class=\"button\"\n            @click=\"download(item.pdf, item.title + '.pdf', 'application/pdf')\"\n            >download</a>\n          <iframe width=\"100%\" height=\"300px\" :src=\"item.uri\"></iframe>\n        </div>\n      </template>\n      <hr>\n    </section>\n  </section>\n</template>\n\n<script>\nimport downloadjs from 'downloadjs';\nimport { loadPDF, fillTemplate, pdfToUri } from '../utils/pdf';\nimport allRequired from '../utils/allrequired';\n\nexport default {\n  name: 'Generate',\n  props: [],\n  data () {\n    return {\n      isTemplateReady: false,\n      templates: {},\n      docs: {},\n      emails: {},\n      errors: {},\n      objectURL: []\n    };\n  },\n  methods: {\n    /* eslint-disable consistent-return, no-cond-assign */\n    download (data, title, mimetype) {\n      console.log(downloadjs);\n      downloadjs(data, title, mimetype);\n    },\n    selectText (e) {\n      const node = e.target;\n      if (document.body.createTextRange) {\n        const range = document.body.createTextRange();\n        range.moveToElementText(node);\n        range.select();\n      } else if (window.getSelection) {\n        const selection = window.getSelection();\n        const range = document.createRange();\n        range.selectNodeContents(node);\n        selection.removeAllRanges();\n        selection.addRange(range);\n      } else {\n        console.warn('Could not select text in node: Unsupported browser.');\n      }\n    },\n    genEmail (type, details) {\n      const closing = `Dr. ${details.councilMember}\\n${details.councilPost}\\nRTSKHDA\\nSession ${details.councilSession}`;\n\n      switch (type) {\n        case 'application':\n          this.emails.application = `Dear Members,\\n\\n${details.companyName} would like to sponsor ${details.quota} doctor from our association to attend the ${details.meeting} on ${details.meetingDate}. Please contact our council members if interested. Thank you.\\n\\nYours sincerely,\\n${closing}`.replace(/\\\\n/g, '<br>');\n      }\n    },\n    genpdf (details) {\n      const vm = this;\n      if (!vm.isTemplateReady) {\n        alert('Templates not yet loaded. Try again.');\n        return false;\n      }\n\n      if (!(vm.errors.application = allRequired(details, ['meeting', 'meetingDate', 'sponsorship', 'quota', 'deadline', 'councilMember', 'councilPost', 'openApplicationDate']))) {\n        fillTemplate(vm.templates.application, 'application', details)\n          .then(res => {\n            vm.docs.application = {};\n            res.pdf.then(pdf => {\n              vm.docs.application.uri = pdfToUri(pdf);\n              vm.docs.application.pdf = pdf;\n              vm.docs.application.title = res.title;\n            });\n          });\n\n        vm.genEmail('application', details);\n      }\n\n      if (!(vm.errors.nomination = allRequired(details, ['applicants', 'meeting', 'meetingDate', 'quota', 'sponsorship', 'deadline', 'resultAnnouncementDate', 'councilMember', 'councilPost']))) {\n        fillTemplate(vm.templates.nomination, 'nomination', details)\n          .then(res => {\n            vm.docs.nomination = {};\n            res.pdf.then(pdf => {\n              vm.docs.nomination.uri = pdfToUri(pdf);\n              vm.docs.nomination.pdf = pdf;\n              vm.docs.nomination.title = res.title;\n            });\n          });\n      }\n\n      if (!(vm.errors.memo = allRequired(details, ['applicants', 'meeting', 'meetingDate', 'resultAnnouncementDate', 'councilMember', 'councilPost', 'companyContact', 'companyName']))) {\n        fillTemplate(vm.templates.memo, 'memo', details)\n          .then(res => {\n            vm.docs.memo = {};\n            res.pdf.then(pdf => {\n              vm.docs.memo.uri = pdfToUri(pdf);\n              vm.docs.memo.pdf = pdf;\n              vm.docs.memo.title = res.title;\n            });\n          });\n      }\n\n      if (!(vm.errors.offer = allRequired(details, ['applicants', 'meeting', 'meetingDate', 'resultAnnouncementDate', 'councilPost', 'councilMember', 'sponsorship', 'companyName']))) {\n        fillTemplate(vm.templates.offer, 'offer', details)\n          .then(res => {\n            vm.docs.offer = [];\n            res.forEach(d => {\n              d.uri = pdfToUri(d.pdf);\n              vm.docs.offer.push(d);\n            });\n          });\n      }\n\n      if (!(vm.errors.annex = allRequired(details, ['applicants', 'meeting', 'meetingDate', 'resultAnnouncementDate', 'councilPost', 'councilMember', 'companyName']))) {\n        fillTemplate(vm.templates.annex, 'annex', details).then(res => {\n          vm.docs.annex = [];\n          res.forEach(d => {\n            d.uri = pdfToUri(d.pdf);\n            vm.docs.annex.push(d);\n          });\n\n          /* for (let i = 0; i < details.applicants.length; i++) {\n            vm.docs.annex[details.applicants[i].name] = uris[i];\n          }*/\n        });\n      }\n    }\n  },\n  created () {\n    const vm = this;\n    const names = ['application', 'nomination', 'offer', 'memo', 'annex'];\n    Promise.all(names.map(name => loadPDF(name)))\n      .then(data => {\n        data.forEach((buffer, i) => { vm.templates[names[i]] = buffer; });\n        vm.isTemplateReady = true;\n      })\n      .catch(e => {\n        console.error(e.message);\n        alert('Something went wrong!');\n      });\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\niframe {\n  border: 3px solid #efefef;\n  margin-bottom: 0.8rem;\n}\n\n.doc-section {\n  word-break: break-all;\n}\n\nstrong {\n  margin-right: 1rem;\n}\n\nblockquote {\n  white-space: break-spaces;\n  word-break: break-word;\n  cursor: pointer;\n}\n</style>\n","import axios from 'axios';\nimport { PDFDocument, StandardFonts } from 'pdf-lib';\n\nconst pdfAuthor = 'genform with pdf-lib';\nconst drawTextOptions = {\n  application: {\n    meeting: { x: 177.98, y: 703.65, wrapWidth: 359.91 },\n    meetingDate: { x: 177.98, y: 678.67 },\n    sponsorship: { x: 177.98, y: 653.2 },\n    quota: { x: 177.98, y: 627.33 },\n    deadline: { x: 418.18, y: 627.33 },\n    openApplicationDate: { x: 56.43, y: 234.15 },\n    closing: { x: 56.43, y: 183.15, lineHeight: 17 }\n  },\n  nomination: {\n    meeting: { x: 177.98, y: 703.65, wrapWidth: 359.91 },\n    meetingDate: { x: 177.98, y: 678.67 },\n    sponsorship: { x: 177.98, y: 653.2 },\n    quota: { x: 177.98, y: 627.33 },\n    deadline: { x: 418.18, y: 627.33 },\n    applicants: { x: 250, y: 577.86, lineHeight: 17 },\n    delegates: { x: 250, y: 505.74, lineHeight: 17 },\n    resultAnnouncementDate: { x: 56.84, y: 398.74 },\n    closing: { x: 56.43, y: 347.89, lineHeight: 17 }\n\n  },\n  offer: {\n    applicant: { x: 206.5, y: 703.41 },\n    sponsoringCompany: { x: 205.5, y: 678.09, maxWidth: 260 },\n    meeting: { x: 206.5, y: 653.3, wrapWidth: 331.98 },\n    meetingDate: { x: 206.5, y: 627.97 },\n    sponsorship: { x: 206.5, y: 602.71 },\n    resultAnnouncementDate: { x: 56.84, y: 483.89 },\n    closing: { x: 56.84, y: 432.89, lineHeight: 17 }\n  },\n  memo: {\n    from: { x: 61.56, y: 638.39, lineHeight: 13 },\n    to: { x: 293.13, y: 638.39, maxWidth: 232 },\n    resultAnnouncementDate: { x: 99.98, y: 573.47 },\n    companyContact: { x: 333.25, y: 573.47 },\n    body: { x: 61.32, y: 524.9, lineHeight: 17, maxWidth: 476.57 }\n  },\n  annex: {\n    applicant: { x: 260.8, y: 695.07 },\n    meeting: { x: 260.8, y: 669.14, wrapWidth: 277.09 },\n    meetingDate: { x: 260.8, y: 643.29 },\n    sponsoringCompany: { x: 246.05, y: 494.04 },\n    closing: { x: 61.02, y: 214.71 },\n    resultAnnouncementDate: { x: 305.03, y: 124.09 }\n  }\n};\n\nfunction drawTexts (page, name, items, font) {\n  items.forEach(item => {\n    const opts = drawTextOptions[name][item.type];\n\n    let fontSize = 11;\n    let y = opts.y;\n    let newText = '';\n    if (opts.wrapWidth !== undefined) {\n      const wrapWidth = opts.wrapWidth;\n      let currentParagraph = [];\n      const paragraphs = [currentParagraph];\n      item.text.split(' ').forEach(word => {\n        if (font.widthOfTextAtSize(\n              currentParagraph.concat(word).join(' '),\n              fontSize) > wrapWidth) {\n          currentParagraph = [word];\n          paragraphs.push(currentParagraph);\n        } else {\n          currentParagraph.push(word);\n        }\n      });\n      newText = paragraphs.map(paragraph => paragraph.join(' ')).join(\"\\n\");\n      if (paragraphs.length > 1) {\n        fontSize = 8.5;\n        y += 7.5;\n      }\n    } else if (opts.shrinkWidth !== undefined) {\n      while (font.widthOfTextAtSize(item.text, fontSize) > opts.shrinkWidth) {\n        fontSize -= 0.1;\n      }\n      console.log(fontSize);\n    }\n\n    page.drawText(newText.length === 0 ? ''+item.text : newText,\n                  { ...opts, size: fontSize, y });\n  });\n}\n\nfunction loadPDF (name) {\n  return axios(`./templates/${name}.pdf`, { responseType: 'arraybuffer' })\n    .then(response => response.data);\n}\n\nasync function fillTemplate (template, name, details) {\n  const doc = await PDFDocument.load(template);\n  const font = await doc.embedFont(StandardFonts.Helvetica);\n  const page = doc.getPages()[0];\n  page.setFontSize(11);\n  page.setLineHeight(12.1);\n\n  let title;\n  doc.setAuthor(pdfAuthor);\n  doc.setCreator(pdfAuthor);\n\n  const closing = {\n    type: 'closing',\n    text: `Dr. ${details.councilMember}\\n${details.councilPost}\\nRTSKHDA\\nSession ${details.councilSession}`\n  };\n\n  switch (name) {\n    case 'application':\n      // console.log(details.deadline);\n      title = `[RTSKHDA] [${details.meeting}] - Application`;\n      doc.setTitle(title, { showInWindowTitleBar: true });\n      drawTexts(page, name, [\n        { type: 'meeting', text: details.meeting },\n        { type: 'meetingDate', text: details.meetingDate },\n        { type: 'sponsorship', text: details.sponsorship },\n        { type: 'quota', text: details.quota },\n        { type: 'deadline', text: details.deadline },\n        { type: 'openApplicationDate', text: details.openApplicationDate },\n        closing\n      ], font);\n      break;\n\n    case 'nomination': {\n      const applicants = details.applicants;\n      let applicantText = '';\n      for (let i = 0; i < applicants.length; i++) {\n        applicantText += `Dr. ${applicants[i].name}\\n`;\n      }\n      applicantText.trimRight();\n\n      title = `[RTSKHDA] [${details.meeting}] - Nomination`;\n      doc.setTitle(title, { showInWindowTitleBar: true });\n\n      drawTexts(page, name, [\n        { type: 'meeting', text: details.meeting },\n        { type: 'meetingDate', text: details.meetingDate },\n        { type: 'sponsorship', text: details.sponsorship },\n        { type: 'quota', text: details.quota },\n        { type: 'deadline', text: details.deadline },\n        { type: 'applicants', text: applicantText },\n        { type: 'delegates', text: applicantText },\n        { type: 'resultAnnouncementDate', text: details.resultAnnouncementDate },\n        closing\n      ], font);\n      break;\n    }\n\n    case 'memo': {\n      const applicants = details.applicants;\n      let applicantText = '';\n      for (let i = 0; i < applicants.length; i++) {\n        applicantText += `Dr. ${applicants[i].name}, `;\n      }\n\n      title = `[RTSKHDA] [${details.meeting}] - Memo`;\n      doc.setTitle(title, { showInWindowTitleBar: true });\n\n      drawTexts(page, name, [\n        { type: 'from', text: closing.text },\n        { type: 'to', text: details.companyName },\n        { type: 'resultAnnouncementDate', text: details.resultAnnouncementDate },\n        { type: 'companyContact', text: details.companyContact },\n        { type: 'body', text: `Dear Sir/Madam,\\n \\nOur association would like to nominate ${applicantText.slice(0, -2)} for ${details.meeting} on ${details.meetingDate}.\\n \\nThank you for your continuous support.\\n \\nBest regards,\\n \\n \\n \\n${closing.text}` }\n      ], font);\n      break;\n    }\n\n    case 'offer': {\n      const { applicants } = details;\n      const len = applicants.length;\n      if (len === 0) {\n        return [];\n      }\n\n      const baseItems = [\n        { type: 'sponsoringCompany', text: details.companyName },\n        { type: 'meeting', text: details.meeting },\n        { type: 'meetingDate', text: details.meetingDate },\n        { type: 'sponsorship', text: details.sponsorship },\n        { type: 'resultAnnouncementDate', text: details.resultAnnouncementDate },\n        closing\n      ];\n\n      const titles = [];\n      const uris = [];\n\n      title = `[RTSKHDA] [${details.meeting}] Offer - Dr. ${applicants[0].name}`;\n      doc.setTitle(title, { showInWindowTitleBar: true });\n      drawTexts(page, name, baseItems.concat({ type: 'applicant', text: `${applicants[0].name}` }), font);\n      uris.push(doc.save());\n      titles.push(title);\n\n      if (len > 1) {\n        for (let i = 1; i < len; i++) {\n          /* eslint-disable no-await-in-loop */\n          const doc1 = await PDFDocument.load(template);\n          const page1 = doc1.getPages()[0];\n          page1.setFontSize(11);\n          page1.setLineHeight(12.1);\n          doc1.setAuthor(pdfAuthor);\n          doc1.setCreator(pdfAuthor);\n\n          let title1 = `[RTSKHDA] [${details.meeting}] Offer - Dr. ${applicants[i].name}`;\n          titles.push(title1);\n          doc1.setTitle(title1, { showInWindowTitleBar: true });\n\n          drawTexts(page1, name, baseItems.concat({ type: 'applicant', text: `${applicants[i].name}` }), font);\n          uris.push(doc1.save());\n        }\n      }\n\n      return Promise.all(uris).then(d => {\n        const res = [];\n        d.forEach((uri, i) => {\n          res.push({\n            applicant: applicants[i].name,\n            title: titles[i],\n            pdf: uri\n          });\n        });\n        return res;\n      });\n    }\n\n    case 'annex': {\n      const { applicants } = details;\n      const len = applicants.length;\n      if (len === 0) {\n        return [];\n      }\n\n      const baseItems = [\n        { type: 'meeting', text: details.meeting },\n        { type: 'meetingDate', text: details.meetingDate },\n        { type: 'sponsoringCompany', text: details.companyName },\n        { type: 'resultAnnouncementDate', text: details.resultAnnouncementDate },\n        { type: 'closing', text: `Dr. ${details.councilMember}\\n${details.councilPost}` }\n      ];\n\n      const titles = [];\n      const uris = [];\n\n      title = `[RTSKHDA] [${details.meeting}] Annex - Dr. ${applicants[0].name}`;\n      doc.setTitle(title, { showInWindowTitleBar: true });\n      drawTexts(page, name, baseItems.concat({ type: 'applicant', text: `Dr. ${applicants[0].name}` }), font);\n      uris.push(doc.save());\n      titles.push(title);\n\n      if (len > 1) {\n        for (let i = 1; i < len; i++) {\n          /* eslint-disable no-await-in-loop */\n          const doc1 = await PDFDocument.load(template);\n          const page1 = doc1.getPages()[0];\n          page1.setFontSize(11);\n          page1.setLineHeight(12.1);\n          doc1.setAuthor(pdfAuthor);\n          doc1.setCreator(pdfAuthor);\n\n          let title1 = `[RTSKHDA] [${details.meeting}] Annex - Dr. ${applicants[i].name}`;\n          titles.push(title1);\n          doc1.setTitle(title1, { showInWindowTitleBar: true });\n          drawTexts(page1, name, baseItems.concat({ type: 'applicant', text: `Dr. ${applicants[i].name}` }), font);\n          uris.push(doc1.save());\n        }\n      }\n\n      return Promise.all(uris).then(d => {\n        const res = [];\n        d.forEach((uri, i) => {\n          res.push({\n            applicant: applicants[i].name,\n            title: titles[i],\n            pdf: uri\n          });\n        });\n        return res;\n      });\n    }\n  }\n\n  return Promise.resolve({ title, pdf: doc.save() });\n}\n\n/* taken from pdf-lib source */\nfunction toBase64 (bytes) {\n  /* eslint-disable no-bitwise, prefer-template */\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  let base64 = '';\n  const len = bytes.length;\n  for (let i = 0; i < len; i += 3) {\n    base64 += chars[bytes[i] >> 2];\n    base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n    base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n    base64 += chars[bytes[i + 2] & 63];\n  }\n\n  if (len % 3 === 2) {\n    base64 = base64.substring(0, base64.length - 1) + '=';\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + '==';\n  }\n\n  return base64;\n}\n\nfunction pdfToUri (input) {\n  return `data:application/pdf;base64,${toBase64(input)}`;\n}\n\nexport { loadPDF, fillTemplate, pdfToUri };\n","/**\n * returns undefined if all properties specified by params are present\n *  and not empty on obj, otherwise returns array of missing params\n */\nexport default function (obj, params) {\n  const missing = [];\n  for (let i = 0; i < params.length; i++) {\n    const param = params[i];\n    if (obj[param] === undefined || obj[param] === null || obj[param] === ''\n        || (obj[param] instanceof Array && obj[param].length === 0)) {\n      missing.push(param);\n    }\n  }\n  return Object.keys(missing).length === 0 ? undefined : missing;\n}\n","import { render } from \"./Generate.vue?vue&type=template&id=eb4aaff2&scoped=true\"\nimport script from \"./Generate.vue?vue&type=script&lang=js\"\nexport * from \"./Generate.vue?vue&type=script&lang=js\"\n\nimport \"./Generate.vue?vue&type=style&index=0&id=eb4aaff2&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/mars/dev/genform/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-eb4aaff2\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=67e2de86\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=67e2de86&lang=scss\"\n\nimport exportComponent from \"/Users/mars/dev/genform/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue';\nimport App from './App.vue';\n\ncreateApp(App).mount('#app');\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=67e2de86&lang=scss\""],"sourceRoot":""}